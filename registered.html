<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>注册</title>
		<link rel="stylesheet" type="text/css" href="./js/layui/css/layui.css"/>
		<style>
			@font-face {font-family: "iconfont";
			  src: url('iconfont.eot?t=1593574984256'); /* IE9 */
			  src: url('iconfont.eot?t=1593574984256#iefix') format('embedded-opentype'), /* IE6-IE8 */
			  url('data:application/x-font-woff2;charset=utf-8;base64,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') format('woff2'),
			  url('iconfont.woff?t=1593574984256') format('woff'),
			  url('iconfont.ttf?t=1593574984256') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+ */
			  url('iconfont.svg?t=1593574984256#iconfont') format('svg'); /* iOS 4.1- */
			}
			
			.iconfont {
			  font-family: "iconfont" !important;
			  font-size: 16px;
			  font-style: normal;
			  -webkit-font-smoothing: antialiased;
			  -moz-osx-font-smoothing: grayscale;
			}
			
			.icon-shouji:before {
			  content: "\e621";
			}
			
			.icon-yonghuming:before {
			  content: "\e60d";
			}
			
			.icon-dingbudaohang-zhangh:before {
			  content: "\e713";
			}
			
			.icon-cedaohang-zhanghao:before {
			  content: "\e711";
			}
			
			.icon-zhanghao:before {
			  content: "\e632";
			}
			
			body{
				width: 100%;
				height: 1000px;
				background: url(./images/bg.png) no-repeat;
				background-size: cover;
				overflow: hidden;
			}
			.bg{
				width: 100%;
				height: 100%;
				display: flex;
				justify-content: center;
				/* align-items: center; */
				padding-top: 200px;
				background-color: rgba(0,0,0,.5);
			}
			.registered{
				/* border:1px solid #888; */
				background-color: #fff;
				width: 400px;
				height: 450px;
				border-radius: 20px;
				overflow: hidden;
			}
			.top{
				width: 100%;
				height: 130px;
				background: linear-gradient(90deg,#01AAED,#0371d1);
				overflow: hidden;
				position: relative;
				color: #fff;
				text-align: center;
				line-height: 130px;
			}
			.top .title{
				font-size: 30px;
				margin: 0;
				letter-spacing: 10px;
			}
			.cir1{
				position: absolute;
				bottom: -100px;
				left: -100px;
				width: 200px;
				height: 200px;
				border-radius: 50%;
				background-color: rgba(255,255,255,.2);
			}
			.cir2{
				position: absolute;
				top: -30px;
				right: -30px;
				width: 100px;
				height: 100px;
				border-radius: 50%;
				background-color: rgba(255,255,255,.2);
			}
			.content{
				width: 100%;
				height: 100%;
				box-sizing: border-box;
				padding:20px 40px;
			}
			
			.layui-form-item {
				margin-top: 17px;
			}
			.layui-form-label{
				padding-left: 0px;
			}
			
			.layui-form-label{
				padding-right: 0px;
			}
		
			.layui-input-block {
				margin-left: 0px;
				position: relative;
			}
			
			.iconfont {
				position: absolute;
				top: 7px;
				left:0;
				font-family: "iconfont" !important;
				font-size: 20px;
				color:#333;
				font-style: normal;
				-webkit-font-smoothing: antialiased;
				-moz-osx-font-smoothing: grayscale;
			}
			
			.layui-input{
				position: absolute;
				top:0;
				left:30px;
				width: 85%;
			}
			
		</style>
	</head>
	<body>
	  <div class="bg">
		<div class="registered">
			<div class="top">
				<span class="cir1"></span>
				<span class="cir2"></span>
				<p class="title">用户注册</p>
			</div>
			<div class="content">
				<form class="layui-form" action="">
				  <!-- <div class="layui-form-item">
				    <label class="layui-form-label">
						
					</label>
				    <div class="layui-input-block">
						<span class="iconfont">&#xe711;</span>
				      <input type="text" name="creator" lay-verify="creator" autocomplete="off" placeholder="请输入创建者" class="layui-input">
				    </div>
				  </div> -->
				  
				  <div class="layui-form-item">
				    <!-- <label class="layui-form-label">用户账号</label> -->
				    <div class="layui-input-block">
						<span class="iconfont">&#xe632;</span>
				      <input type="text" name="userName" lay-verify="required" lay-reqtext="用户账号是必填项，岂能为空？" placeholder="请输入用户账号" autocomplete="off" class="layui-input">
				    </div>
				  </div>
				  
				  <div class="layui-form-item">
				    <!-- <label class="layui-form-label">用户名</label> -->
				    <div class="layui-input-block">
						<span class="iconfont">&#xe713;</span>
				      <input type="text" name="userAccount" lay-verify="userAccount"  placeholder="请输入真实姓名" autocomplete="off" class="layui-input">
				    </div>
				  </div>
				  
				  <div class="layui-form-item">
				    <!-- <label class="layui-form-label">用户电话</label> -->
				    <div class="layui-input-block">
						<span class="iconfont">&#xe621;</span>
				      <input type="phone" name="userPhone" lay-verify="userPhone"  autocomplete="off" placeholder="请输入手机号" class="layui-input">
				    </div>
				  </div>
				  
				  <div class="layui-form-item">
				    <!-- <label class="layui-form-label">密码</label> -->
				    <div class="layui-input-block">
						<span class="iconfont">&#xe60d;</span>
				      <input type="password" name="userPwd" lay-verify="userPwd"  autocomplete="off" placeholder="请输入密码" class="layui-input" class="password">
				    </div>
				  </div>
				  
				  <div class="layui-form-item">
				      <div class="layui-input-block" style="display: flex;align-items: center;justify-content: center;">
				        <button type="submit" class="layui-btn layui-btn-normal" lay-submit="" lay-filter="sub" id="submit">立即提交</button>
				        <button type="reset" class="layui-btn layui-btn-primary">重置</button>
				      </div>
				    </div>
				</form>
			</div>
		</div>
	  </div>
		  
		
		<script src="./js/layui/layui.js"></script>
		<script src="js/modules/layui-config.js"></script>
		<script src="./js/config.js"></script>
		
		<script>

		layui.use(['form', 'layer' ,'jquery', 'md5'], function(){
		  var form = layui.form;
		  var layer = layui.layer;
		   var $ = layui.jquery;
		   var md5 = layui.md5;

		
		 
		  //自定义验证规则
		  form.verify({
		    userPhone: function(value){
				 if(!(/^1[3456789]\d{9}$/.test(value))){ 
				        return '请填写正确的手机号'; 
				    } 
		    }
		    // ,userPwd: [
		    //   /^[\S]{6,12}$/
		    //   ,'密码必须6到12位，且不能出现空格'
		    // ]
			
			 ,userAccount: function(value){
			 	 if(!( /^[\u4e00-\u9fa5]{2,4}|[a-z A-Z]{1,30}$/.test(value))){ 
			 	        return '请填写2-4位中文字符或1-30个英文字母'; 
			 	    } 
			 }
			,  userPwd: function(value){
				 if(!(/^[\S]{6,12}$/.test(value))){ 
				        return '密码必须6到12位，且不能出现空格'; 
				    } 
		    }
		  });
		  
		  //监听提交
		  form.on('submit(sub)', function(data){
			// 开启等待
			 //  loading = layer.load(0, {
			 //      shade: 0.1
			 //  });
			 
			
			var data=JSON.stringify(data.field);
			
			 var pwd = $('.password').val();
			 md5(pwd);
			 
			 // console.log(config.REGISTERED);
			 console.log(data);
			
			$.ajax(config.REGISTERED, {
			    data: data,
			    dataType: "json", //返回文本
			    contentType: "application/json",
			    type: 'post', //HTTP请求类型
			    // timeout: 100000, //超时时间设置为100秒；
			    success: function (res) {
					layer.msg(res.returnMap.returnMSG);
					if(res.returnMap.result==1){
						 location.href='login.html';
					}
				},
				error: function (xhr, type, errorThrown) {
				    //异常处理；
				    // layer.close(loading);
				    console.log(type);
				}
			})
			return false;
		  });
		  
		  
		});
		</script>
	</body>
</html>
